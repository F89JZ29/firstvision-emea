<!doctype html>
<html lang="en" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>API Explorer</title>
    <!-- Embed elements Elements via Web Component -->
    <script src="https://fiserv.github.io/firstvision-emea/assets/JS/@stoplight/elements/web-components.min.js"></script>
    <link rel="stylesheet" href="https://fiserv.github.io/firstvision-emea/assets/JS/@stoplight/elements@7.15.2/styles.min.css">
    <link rel="shortcut icon" type="image/x-icon" href="https://fiserv.github.io/firstvision-emea/favicon.png">

    <elements-api id="docs" router="hash" layout="sidebar" hideSchemas="true"></elements-api>
    <script>
        (async () => {
          const docs = document.getElementById('docs');

          const searchParams = new URLSearchParams(window.location.search);
          const yamlFileName = searchParams.get('file');

          if(!yamlFileName){
              console.error('Not a valid YAML file');
              return;
          }

          const apiURL = `https://fiserv.github.io/firstvision-emea/assets/swagger/${yamlFileName}`

          const text = await fetch(apiURL).then(res => res.text())
          docs.apiDescriptionDocument = text;
        })();
    </script>
    </body>
</html>
